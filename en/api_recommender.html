

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Recommender &mdash; Jubatus 0.3.4 documentation</title>
    <link rel="stylesheet" href="../_static/jubatus.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

    
<script type="text/javascript">
   var GuideSentence = 'keyword';
   function ShowFormGuide(obj) {
      if( obj.value == '' ) {
         obj.value = GuideSentence;
         obj.style.color = '#cccccc';
      }else{
         obj.style.color = '#333333';
      }
   }
   function HideFormGuide(obj) {
      obj.style.color = '#827046';
      if( obj.value == GuideSentence ) {
         obj.value='';   
      }
   }
</script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.3.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Jubatus 0.3.4 documentation" href="../index.html" />
    <link rel="up" title="Client API" href="api.html" />
    <link rel="next" title="Stat" href="api_stat.html" />
    <link rel="prev" title="Regression" href="api_regression.html" /> 

<!--

   _________         ___
   \____   _|       | /             ___I_I___
       |  |         | |             \__^ ^__/        ____
       |  |         | | ___    ___  __ | |          / __/
       |  | |-|  |-|| |/   \  /   \| | | | |^|  |^|| (__
       |  | | |  | ||    ^  ||  ^    | | | | |  | | \__ \
       |  | | \_/  ||    O   || O    | | |_| \_/  | ___) |
       |  |  \__/|_||_|\___/  \___/|_| |__/ \__/|_| \___/
       | /
      / /
     |/

-->
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26408953-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  </script>
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api_stat.html" title="Stat"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="api_regression.html" title="Regression"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Jubatus 0.3.4 documentation</a> &raquo;</li>
          <li><a href="references.html" >References</a> &raquo;</li>
          <li><a href="api.html" accesskey="U">Client API</a> &raquo;</li> 
      </ul>
    </div>
          
		<a href="../index.html">
			 <div class="title"></div>
		</a>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Recommender</a><ul>
<li><a class="reference internal" href="#data-structures">Data Structures</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api_regression.html"
                        title="previous chapter">Regression</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api_stat.html"
                        title="next chapter">Stat</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/en/api_recommender.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick Search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" class="keyword" value="keyword" onFocus="HideFormGuide(this);" onBlur="ShowFormGuide(this);" />
                <input type="submit" value="Go" class="searchBtn" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
	  
          

<script src="http://widgets.twimg.com/j/2/widget.js"></script>
<script>
new TWTR.Widget({
  version: 2,
  type: 'profile',
  rpp: 4,
  interval: 30000,
  width: 220,
  height: 300,
  theme: {
    shell: {
      background: '#333333',
      color: '#ffffff'
    },
    tweets: {
      background: '#000000',
      color: '#ffffff',
      links: '#4aed05'
    }
  },
  features: {
    scrollbar: false,
    loop: false,
    live: false,
    behavior: 'all'
  }
}).render().setUser('JubatusOfficial').start();
</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="recommender">
<h1>Recommender<a class="headerlink" href="#recommender" title="Permalink to this headline">¶</a></h1>
<p>See <a class="reference external" href="https://github.com/jubatus/jubatus/blob/master/src/server/recommender.idl">IDL definition</a> for detailed specification.</p>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<dl class="describe">
<dt>
<tt class="descname">config_data</tt></dt>
<dd><p>Represents a configuration of the server.
<tt class="docutils literal"><span class="pre">method</span></tt> is an algorithm used for recommendation.
Currently, one of <tt class="docutils literal"><span class="pre">inverted_index</span></tt>, <tt class="docutils literal"><span class="pre">minhash</span></tt> or <tt class="docutils literal"><span class="pre">lsh</span></tt> can be specified.
<tt class="docutils literal"><span class="pre">config</span></tt> is a string in JSON format described in <a class="reference internal" href="fv_convert.html"><em>Data Conversion</em></a>.</p>
</dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span class="n">message</span> <span class="n">config_data</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">string</span> <span class="n">method</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">converter</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="describe">
<dt>
<tt class="descname">similar_result</tt></dt>
<dd><p>Represents a result of similarity methods.
It is a list of tuple of string and float.
The string value is a row ID and the float value is a similarity for the ID.
Higher similarity value means that they are more similar to each other.</p>
</dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span class="n">type</span> <span class="n">similar_result</span> <span class="o">=</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">tuple</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="kt">float</span><span class="o">&gt;</span> <span class="o">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<p>For all methods, the first parameter of each method (<tt class="docutils literal"><span class="pre">name</span></tt>) is a string value to uniquely identify a task in a cluster.
When using standalone mode, this must be left blank (<tt class="docutils literal"><span class="pre">&quot;&quot;</span></tt>).</p>
<dl class="describe">
<dt>
<tt class="descname">bool clear_row(string name, string id)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt> : row ID to be removed</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>True when the row was cleared successfully</li>
</ul>
</div></blockquote>
<p>Removes the given row <tt class="docutils literal"><span class="pre">id</span></tt> from the recommendation table.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">bool update_row(string name, string id, datum d)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt> : row ID</li>
<li><tt class="docutils literal"><span class="pre">d</span></tt> : datum for the row</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>True if this function updates models successfully</li>
</ul>
</div></blockquote>
<p>Differencial updates the row whose id is <tt class="docutils literal"><span class="pre">id</span></tt> with given <tt class="docutils literal"><span class="pre">d</span></tt>.
If the row with the same <tt class="docutils literal"><span class="pre">id</span></tt> already exists, the row is overwritten by <tt class="docutils literal"><span class="pre">d</span></tt>.
Otherwise, new row entry will be created.
If the server that manages the row and the server that received this RPC request are same, this operation is reflected instantly.
If not, update operation is reflected after mix.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">bool clear(0: string name)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>True when the model was cleared successfully</li>
</ul>
</div></blockquote>
<p>Completely clears the model.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">datum complete_row_from_id(0: string name, 1: string id)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt> : row ID</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>datum stored in <tt class="docutils literal"><span class="pre">id</span></tt> row with missing value completed by predicted value</li>
</ul>
</div></blockquote>
<p>Returns the datum for the row <tt class="docutils literal"><span class="pre">id</span></tt>, with missing value completed by predicted value.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">datum complete_row_from_data(0: string name, 1: datum d)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">d</span></tt> : original datum to be completed (possibly some values are missing).</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>datum constructed from the given datum with missing value completed by predicted value</li>
</ul>
</div></blockquote>
<p>Returns the datum constructed from datum <tt class="docutils literal"><span class="pre">d</span></tt>, with missing value completed by predicted value.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">similar_result similar_row_from_id(0: string name, 1: string id, 2: uint size)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt> : row ID</li>
<li><tt class="docutils literal"><span class="pre">size</span></tt> : number of rows to be returned</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>rows that are most similar to the row <tt class="docutils literal"><span class="pre">id</span></tt></li>
</ul>
</div></blockquote>
<p>Returns <tt class="docutils literal"><span class="pre">size</span></tt> rows (at maximum) which are most similar to the row <tt class="docutils literal"><span class="pre">id</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">similar_result similar_row_from_data(0: string name, 1: datum data, 2: uint size)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">data</span></tt> : original datum to be completed (possibly some values are missing)</li>
<li><tt class="docutils literal"><span class="pre">size</span></tt> : number of rows to be returned</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>rows that most have a similar datum to <tt class="docutils literal"><span class="pre">data</span></tt></li>
</ul>
</div></blockquote>
<p>Returns <tt class="docutils literal"><span class="pre">size</span></tt> rows (at maximum) that most have similar datum to datum <tt class="docutils literal"><span class="pre">data</span></tt>.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">datum decode_row(0: string name, 1: string id)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">id</span></tt> : row ID</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>datum for the given row <tt class="docutils literal"><span class="pre">id</span></tt>.</li>
</ul>
</div></blockquote>
<p>Returns the datum in the row <tt class="docutils literal"><span class="pre">id</span></tt>.
Note that irreversibly converted datum (processed by <tt class="docutils literal"><span class="pre">fv_converter</span></tt>) will not be decoded.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">list&lt;string&gt; get_all_rows(0:string name)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>list of all row IDs</li>
</ul>
</div></blockquote>
<p>Returns the list of all row IDs.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">float similarity(0: string name, 1: datum lhs, 2: datum rhs)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">lhs</span></tt> : datum</li>
<li><tt class="docutils literal"><span class="pre">rhs</span></tt> : another datum</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>similarity between <tt class="docutils literal"><span class="pre">lhs</span></tt> and <tt class="docutils literal"><span class="pre">rhs</span></tt></li>
</ul>
</div></blockquote>
<p>Returns the similarity between two datum.</p>
</dd></dl>

<dl class="describe">
<dt>
<tt class="descname">float l2norm(0: string name, 1: datum d)</tt></dt>
<dd><ul class="simple">
<li>Parameters:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> : string value to uniquely identifies a task in cluster</li>
<li><tt class="docutils literal"><span class="pre">d</span></tt> : datum</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>Returns:</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>L2 norm for the given <tt class="docutils literal"><span class="pre">d</span></tt></li>
</ul>
</div></blockquote>
<p>Returns the value of L2 norm for the datum <tt class="docutils literal"><span class="pre">d</span></tt>.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api_stat.html" title="Stat"
             >next</a> |</li>
        <li class="right" >
          <a href="api_regression.html" title="Regression"
             >previous</a> |</li>
        <li><a href="../index.html">Jubatus 0.3.4 documentation</a> &raquo;</li>
          <li><a href="references.html" >References</a> &raquo;</li>
          <li><a href="api.html" >Client API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011,2012 PFI&amp;NTT.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

    <!-- https://github.com/blog/273-github-ribbons -->
    <a href="http://github.com/jubatus/jubatus">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub" />
      </a>
  </body>
</html>