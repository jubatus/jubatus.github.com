

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Python &mdash; Jubatus</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Jubatus" href="../index.html"/>
        <link rel="up" title="Classifier" href="classifier.html"/>
        <link rel="next" title="Ruby" href="classifier_ruby.html"/>
        <link rel="prev" title="Classifier" href="classifier.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Jubatus
          

          
            
            <img src="../_static/title.png" class="logo" />
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial.html">Basic Tutorial</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="classifier.html">Classifier</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="classifier.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="classifier.html#scenario">Scenario</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="classifier.html#sample-program">Sample Program</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Python</a></li>
<li class="toctree-l4"><a class="reference internal" href="classifier_ruby.html">Ruby</a></li>
<li class="toctree-l4"><a class="reference internal" href="classifier_java.html">Java</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="anomaly.html">Anomaly</a></li>
<li class="toctree-l2"><a class="reference internal" href="regression.html">Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph.html">Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="stat.html">Stat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_distributed.html">Distributed Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fv_convert.html">Data Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../method.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html">Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tips_faqs/index.html">Tips and FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jubakit/index.html">Jubakit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jubaql/index.html">JubaQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About This Project</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Jubatus</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Tutorial</a> &raquo;</li>
      
          <li><a href="classifier.html">Classifier</a> &raquo;</li>
      
    <li>Python</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="python">
<h1>Python<a class="headerlink" href="#python" title="Permalink to this headline">¶</a></h1>
<p>Here we explain the Python sample program of Classifier.</p>
<div class="section" id="source-code">
<h2>Source_code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>In this sample program, we will explain 1) how to configure the learning-algorithms that used by Jubatus, with the example file ‘gender.json’; 2) how to learn the training data and make predictions based on them, with the example file ‘gender.py’. Here are the source codes of ‘gender.json’ and ‘gender.py’.</p>
<p><strong>gender.json</strong></p>
<div class="highlight-js"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;method&quot;</span><span class="o">:</span> <span class="s2">&quot;AROW&quot;</span><span class="p">,</span>
  <span class="s2">&quot;converter&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;num_filter_types&quot;</span><span class="o">:</span> <span class="p">{},</span>
    <span class="s2">&quot;num_filter_rules&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;string_filter_types&quot;</span><span class="o">:</span> <span class="p">{},</span>
    <span class="s2">&quot;string_filter_rules&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;num_types&quot;</span><span class="o">:</span> <span class="p">{},</span>
    <span class="s2">&quot;num_rules&quot;</span><span class="o">:</span> <span class="p">[],</span>
    <span class="s2">&quot;string_types&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;unigram&quot;</span><span class="o">:</span> <span class="p">{</span> <span class="s2">&quot;method&quot;</span><span class="o">:</span> <span class="s2">&quot;ngram&quot;</span><span class="p">,</span> <span class="s2">&quot;char_num&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span> <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;string_rules&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s2">&quot;key&quot;</span><span class="o">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="o">:</span> <span class="s2">&quot;unigram&quot;</span><span class="p">,</span> <span class="s2">&quot;sample_weight&quot;</span><span class="o">:</span> <span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="s2">&quot;global_weight&quot;</span><span class="o">:</span> <span class="s2">&quot;bin&quot;</span> <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">&quot;parameter&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;regularization_weight&quot;</span> <span class="o">:</span> <span class="mf">1.0</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<p><strong>gender.py</strong></p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python</span>

<span class="n">host</span> <span class="o">=</span> <span class="s1">&#39;127.0.0.1&#39;</span>
<span class="n">port</span> <span class="o">=</span> <span class="mi">9199</span>
<span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;test&#39;</span>

<span class="kn">import</span> <span class="nn">jubatus</span>
<span class="kn">from</span> <span class="nn">jubatus.common</span> <span class="kn">import</span> <span class="n">Datum</span>

<span class="n">client</span> <span class="o">=</span> <span class="n">jubatus</span><span class="o">.</span><span class="n">Classifier</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>

<span class="n">train_data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;male&#39;</span><span class="p">,</span>   <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;sweater&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;jeans&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.70</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;long&#39;</span><span class="p">,</span>  <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;shirt&#39;</span><span class="p">,</span>   <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;skirt&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.56</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;male&#39;</span><span class="p">,</span>   <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;jacket&#39;</span><span class="p">,</span>  <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;chino&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.65</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;T shirt&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;jeans&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.72</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;male&#39;</span><span class="p">,</span>   <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;long&#39;</span><span class="p">,</span>  <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;T shirt&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;jeans&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.82</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;long&#39;</span><span class="p">,</span>  <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;jacket&#39;</span><span class="p">,</span>  <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;skirt&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.43</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;male&#39;</span><span class="p">,</span>   <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;jacket&#39;</span><span class="p">,</span>  <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;jeans&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.76</span><span class="p">})),</span>
    <span class="p">(</span><span class="s1">&#39;female&#39;</span><span class="p">,</span> <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;long&#39;</span><span class="p">,</span>  <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;sweater&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;skirt&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.52</span><span class="p">}))</span>
    <span class="p">]</span>

<span class="n">client</span><span class="o">.</span><span class="n">train</span><span class="p">(</span><span class="n">train_data</span><span class="p">)</span>

<span class="n">test_data</span> <span class="o">=</span> <span class="p">[</span>
     <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;T shirt&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;jeans&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.81</span><span class="p">}),</span>
     <span class="n">Datum</span><span class="p">({</span><span class="s1">&#39;hair&#39;</span><span class="p">:</span> <span class="s1">&#39;long&#39;</span><span class="p">,</span>  <span class="s1">&#39;top&#39;</span><span class="p">:</span> <span class="s1">&#39;shirt&#39;</span><span class="p">,</span>   <span class="s1">&#39;bottom&#39;</span><span class="p">:</span> <span class="s1">&#39;skirt&#39;</span><span class="p">,</span> <span class="s1">&#39;height&#39;</span><span class="p">:</span> <span class="mf">1.50</span><span class="p">}),</span>
<span class="p">]</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">classify</span><span class="p">(</span><span class="n">test_data</span><span class="p">)</span>

<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">result</span><span class="p">:</span>
        <span class="k">print</span><span class="p">((</span><span class="s1">&#39;{0}: {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">label</span><span class="p">,</span> <span class="n">r</span><span class="o">.</span><span class="n">score</span><span class="p">)))</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;------&#39;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="explanation">
<h2>Explanation<a class="headerlink" href="#explanation" title="Permalink to this headline">¶</a></h2>
<p><strong>gender.json</strong></p>
<p>The configuration information is given by the JSON unit. Here is the meaning of each JSON field.</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>method</dt>
<dd>Specify the algorithm used in Classification. In this example, the AROW (Adaptive Regularization of Weight vectors) is used.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>converter</dt>
<dd>Specify the configurations in feature converter. In this sample, we will classify a person into male or female through the features of ‘length of hair’, ‘top clothes’, ‘bottom clothese’ and ‘height’. The “string_values” and “num_values” are stored in key-value pairs without using “*_filter_types” configuration.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>parameter</dt>
<dd>Specify the parameter that passed to the algorithm. The parameter varies when the method is changed. In this example, the method is specified as ‘AROW’, with [regularization_weight: 1.0]. In addition, the parameter ‘regularization_weight’ in different algorithms plays different roles and affects differently, so please pay attention to setting the value of it for each algorithm. When ‘regularization_weight’ parameter becomes bigger, the learning spead will increase, while the noice will decrease.</dd>
</dl>
</li>
</ul>
<p><strong>gender.py</strong></p>
<p>We explain the learning and prediction processes in this example codes.</p>
<p>First of all, to write the Client program for Classifier, we can use the ClassifierClient class defined in ‘jubatus.Classifier’. There are two methods used in this program. The ‘train’ method for learning process, and the ‘classify’ method for prediction with the data learnt.</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>How to connect to Jubatus Server</dt>
<dd><p class="first">Connect to Jubatus Server (Line 10).</p>
<p class="last">Setting the IP addr, RPC port of Jubatus Server and the unique name for task identification in Zookeeper.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Prepare the learning data</dt>
<dd><p class="first">Make a train_data array list for the data to be learnt (Line 12-21).</p>
<p>The dataset is input into the train() method (Line 23), for the learning process. The figure below shows the structure of the data being leant.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="13%" />
<col width="16%" />
<col width="13%" />
<col width="16%" />
<col width="13%" />
<col width="16%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head" colspan="7">list&lt;tuple&lt;string, Datum&gt;&gt;</th>
</tr>
<tr class="row-even"><th class="head">label(string)</th>
<th class="head" colspan="6">Datum</th>
</tr>
<tr class="row-odd"><th class="head">&#160;</th>
<th class="head" colspan="2">list&lt;tuple&lt;string, string&gt;&gt;</th>
<th class="head" colspan="2">list&lt;tuple&lt;string, double&gt;&gt;</th>
<th class="head" colspan="2">list&lt;tuple&lt;string, string&gt;&gt;</th>
</tr>
<tr class="row-even"><th class="head">&#160;</th>
<th class="head">key(string)</th>
<th class="head">value(string)</th>
<th class="head">key(string)</th>
<th class="head">value(double)</th>
<th class="head">key(string)</th>
<th class="head">value(string)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>“male”</td>
<td><div class="first last line-block">
<div class="line">“hair”</div>
<div class="line">“top”</div>
<div class="line">“bottom”</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">“short”</div>
<div class="line">“sweater”</div>
<div class="line">“jeans”</div>
</div>
</td>
<td>“height”</td>
<td>1.70</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>“female”</td>
<td><div class="first last line-block">
<div class="line">“hair”</div>
<div class="line">“top”</div>
<div class="line">“bottom”</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">“long”</div>
<div class="line">“shirt”</div>
<div class="line">“skirt”</div>
</div>
</td>
<td>“height”</td>
<td>1.56</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“male”</td>
<td><div class="first last line-block">
<div class="line">“hair”</div>
<div class="line">“top”</div>
<div class="line">“bottom”</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">“short”</div>
<div class="line">“jacket”</div>
<div class="line">“chino”</div>
</div>
</td>
<td>“height”</td>
<td>1.65</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>“female”</td>
<td><div class="first last line-block">
<div class="line">“hair”</div>
<div class="line">“top”</div>
<div class="line">“bottom”</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">“short”</div>
<div class="line">“T shirt”</div>
<div class="line">“jeans”</div>
</div>
</td>
<td>“height”</td>
<td>1.72</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>“male”</td>
<td><div class="first last line-block">
<div class="line">“hair”</div>
<div class="line">“top”</div>
<div class="line">“bottom”</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">“long”</div>
<div class="line">“T shirt”</div>
<div class="line">“jeans”</div>
</div>
</td>
<td>“height”</td>
<td>1.82</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>“female”</td>
<td><div class="first last line-block">
<div class="line">“hair”</div>
<div class="line">“top”</div>
<div class="line">“bottom”</div>
</div>
</td>
<td><div class="first last line-block">
<div class="line">“long”</div>
<div class="line">“jacket”</div>
<div class="line">“skirt”</div>
</div>
</td>
<td>“height”</td>
<td>1.43</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
<p class="last">train_data is the list of Datum and its label. In this sample, the label demonstrates the class name each Datum belongs to. Each Datum stores the data in key-value pairs, which is the format readable by Jubatus. The key can be recognized as the feature vector. Inside the Datum, there are 3 kinds of key-value lists, string_values, num_values and binary_values. For example, the “hair”, “top”, “bottom” values are in string format, While the “height” value is in numeric format. Therefore, they are stored separately inside each Datum.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Model training (update learning model)</dt>
<dd><p class="first last">We train our learning model by using the method train() at Line 23, with the data generated in step.2 above.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Prepare the prediction data</dt>
<dd><p class="first last">Different from training data, prediction data does not contain its “lable”, and it is only stored in the Datum unit (Line 25-28).</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Data prediction</dt>
<dd><p class="first last">By inputting the test_data list generated in step.4 into the classify() method (Line 30), the prediction result will be stored in the result list (Line 32). The prediction result contains label and score means the confidence of each label (Line 34).</p>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="run-the-sample-program">
<h2>Run the sample program<a class="headerlink" href="#run-the-sample-program" title="Permalink to this headline">¶</a></h2>
<ul>
<li><dl class="first docutils">
<dt>At Jubatus Server</dt>
<dd><p class="first">start “jubaclassifier” process.</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>$ jubaclassifier --configpath gender.json
</pre></div>
</div>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>At Jubatus Client</dt>
<dd><div class="first last highlight-default"><div class="highlight"><pre><span></span>$ python gender.py
</pre></div>
</div>
</dd>
</dl>
</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="classifier_ruby.html" class="btn btn-neutral float-right" title="Ruby" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="classifier.html" class="btn btn-neutral" title="Classifier" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2018 PFN &amp; NTT.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>