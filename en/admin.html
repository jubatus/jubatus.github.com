

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cluster Administration Guide &mdash; Jubatus</title>
    <link rel="stylesheet" href="_static/jubatus.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    
<script type="text/javascript">
   var GuideSentence = 'keyword';
   function ShowFormGuide(obj) {
      if( obj.value == '' ) {
         obj.value = GuideSentence;
         obj.style.color = '#cccccc';
      }else{
         obj.style.color = '#333333';
      }
   }
   function HideFormGuide(obj) {
      obj.style.color = '#827046';
      if( obj.value == GuideSentence ) {
         obj.value='';   
      }
   }
</script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.7.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Jubatus" href="index.html" />
    <link rel="up" title="Documentation" href="documentation.html" />
    <link rel="next" title="Building Jubatus from Source" href="build.html" />
    <link rel="prev" title="Plugin Development" href="plugin.html" /> 

<!--

   _________         ___
   \____   _|       | /             ___I_I___
       |  |         | |             \__^ ^__/        ____
       |  |         | | ___    ___  __ | |          / __/
       |  | |-|  |-|| |/   \  /   \| | | | |^|  |^|| (__
       |  | | |  | ||    ^  ||  ^    | | | | |  | | \__ \
       |  | | \_/  ||    O   || O    | | |_| \_/  | ___) |
       |  |  \__/|_||_|\___/  \___/|_| |__/ \__/|_| \___/
       | /
      / /
     |/

-->
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26408953-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  </script>
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="rb-modindex.html" title="Ruby Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="build.html" title="Building Jubatus from Source"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="plugin.html" title="Plugin Development"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Jubatus</a> &raquo;</li>
          <li><a href="documentation.html" accesskey="U">Documentation</a> &raquo;</li> 
      </ul>
    </div>
          
		<a href="index.html">
			 <div class="title"></div>
		</a>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Cluster Administration Guide</a><ul>
<li><a class="reference internal" href="#recommended-process-configuration">Recommended Process Configuration</a><ul>
<li><a class="reference internal" href="#jubatus-proxies">Jubatus Proxies</a></li>
<li><a class="reference internal" href="#jubatus-servers">Jubatus Servers</a></li>
<li><a class="reference internal" href="#zookeeper">ZooKeeper</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-clusters">Managing Clusters</a></li>
<li><a class="reference internal" href="#monitoring">Monitoring</a></li>
<li><a class="reference internal" href="#logging">Logging</a></li>
<li><a class="reference internal" href="#save-and-load">Save and Load</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="plugin.html"
                        title="previous chapter">Plugin Development</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="build.html"
                        title="next chapter">Building Jubatus from Source</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/admin.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick Search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" class="keyword" value="keyword" onFocus="HideFormGuide(this);" onBlur="ShowFormGuide(this);" />
                <input type="submit" value="Go" class="searchBtn" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
	  
          

<a class="twitter-timeline" data-dnt="true" href="https://twitter.com/JubatusOfficial"  data-widget-id="258379257628196864">Tweets by @JubatusOfficial</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cluster-administration-guide">
<h1>Cluster Administration Guide<a class="headerlink" href="#cluster-administration-guide" title="Permalink to this headline">¶</a></h1>
<p>This page describes how to administer a Jubatus cluster.</p>
<div class="section" id="recommended-process-configuration">
<h2>Recommended Process Configuration<a class="headerlink" href="#recommended-process-configuration" title="Permalink to this headline">¶</a></h2>
<p>For reliable Jubatus service, you should run Jubatus in a distributed environment.
Additionally, to ensure high performance, you should carefully plan the process configuration of Jubatus servers and processes that Jubatus depends on.</p>
<p>This is the process configuration that we recommend.</p>
<div class="figure">
<img alt="process configuration" src="_images/process_configuration.png" style="width: 90%;" />
</div>
<div class="section" id="jubatus-proxies">
<h3>Jubatus Proxies<a class="headerlink" href="#jubatus-proxies" title="Permalink to this headline">¶</a></h3>
<p>To keep operation and implementation of the client application simple, we recommend assigning one Jubatus Proxy for each instance of the application.</p>
<p>In case that the client application cannot connect to the Jubatus Proxy (e.g., the Jubatus Proxy is down), it is necessary to consider the way to recover, depending on your requirement of service. For example:</p>
<ol class="arabic simple">
<li>Monitor the Jubatus Proxy processes. When the Jubatus Proxy goes down, block the access to the application from users.</li>
<li>Switch over to another Jubatus Proxy.</li>
</ol>
</div>
<div class="section" id="jubatus-servers">
<h3>Jubatus Servers<a class="headerlink" href="#jubatus-servers" title="Permalink to this headline">¶</a></h3>
<p>If you set the same name using <tt class="docutils literal"><span class="pre">--name</span></tt> option, processes collaborate with one another. As long as one of processes is running, Jubatus service is available.</p>
<p>In the figure above, processes is distributed on <tt class="docutils literal"><span class="pre">N</span> <span class="pre">+</span> <span class="pre">1</span></tt> machines. Even when a failure occurs in <tt class="docutils literal"><span class="pre">N</span></tt> of machines, all of instances are available.</p>
<p>Jubatus processes all data in memory. In order to prevent the lack of resources (especially memory), you should pay to attention to the placement of the process.</p>
</div>
<div class="section" id="zookeeper">
<h3>ZooKeeper<a class="headerlink" href="#zookeeper" title="Permalink to this headline">¶</a></h3>
<p>When running Jubatus in a distributed environment, it is a fatal condition that ZooKeeper is not available. For reliable ZooKeeper service, you should note the following:</p>
<ol class="arabic simple">
<li>Deploy ZooKeeper in a cluster (an ensemble) using an odd number of machines.</li>
<li>To avoid degradation of performance and stability, deploy ZooKeeper on a dedicated machine.</li>
</ol>
<p>For details, See <a class="reference external" href="http://zookeeper.apache.org/doc/current/">the documentation of ZooKeeper</a>.</p>
</div>
</div>
<div class="section" id="managing-clusters">
<h2>Managing Clusters<a class="headerlink" href="#managing-clusters" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
<div class="section" id="monitoring">
<h2>Monitoring<a class="headerlink" href="#monitoring" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
<div class="section" id="save-and-load">
<h2>Save and Load<a class="headerlink" href="#save-and-load" title="Permalink to this headline">¶</a></h2>
<p>[tbd]</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="rb-modindex.html" title="Ruby Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="build.html" title="Building Jubatus from Source"
             >next</a> |</li>
        <li class="right" >
          <a href="plugin.html" title="Plugin Development"
             >previous</a> |</li>
        <li><a href="index.html">Jubatus</a> &raquo;</li>
          <li><a href="documentation.html" >Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-2015 PFN &amp; NTT.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

    <!-- https://github.com/blog/273-github-ribbons -->
    <a href="http://github.com/jubatus/jubatus">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub" />
      </a>
  </body>
</html>