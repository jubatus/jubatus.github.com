

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Frequently Asked Questions (FAQs) &mdash; Jubatus</title>
    <link rel="stylesheet" href="_static/jubatus.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

    
<script type="text/javascript">
   var GuideSentence = 'keyword';
   function ShowFormGuide(obj) {
      if( obj.value == '' ) {
         obj.value = GuideSentence;
         obj.style.color = '#cccccc';
      }else{
         obj.style.color = '#333333';
      }
   }
   function HideFormGuide(obj) {
      obj.style.color = '#827046';
      if( obj.value == GuideSentence ) {
         obj.value='';   
      }
   }
</script>
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.4.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Jubatus" href="index.html" />
    <link rel="up" title="Documentation" href="documentation.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="IDL Support Status (2013 Mar.)" href="idl_support.html" /> 

<!--

   _________         ___
   \____   _|       | /             ___I_I___
       |  |         | |             \__^ ^__/        ____
       |  |         | | ___    ___  __ | |          / __/
       |  | |-|  |-|| |/   \  /   \| | | | |^|  |^|| (__
       |  | | |  | ||    ^  ||  ^    | | | | |  | | \__ \
       |  | | \_/  ||    O   || O    | | |_| \_/  | ___) |
       |  |  \__/|_||_|\___/  \___/|_| |__/ \__/|_| \___/
       | /
      / /
     |/

-->
  <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26408953-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

  </script>
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="references.html" title="References"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="idl_support.html" title="IDL Support Status (2013 Mar.)"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Jubatus</a> &raquo;</li>
          <li><a href="documentation.html" accesskey="U">Documentation</a> &raquo;</li> 
      </ul>
    </div>
          
		<a href="index.html">
			 <div class="title"></div>
		</a>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Frequently Asked Questions (FAQs)</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#rpc-errors">RPC Errors</a></li>
<li><a class="reference internal" href="#anomaly-detection">Anomaly detection</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="idl_support.html"
                        title="previous chapter">IDL Support Status (2013 Mar.)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="references.html"
                        title="next chapter">References</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/faq.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick Search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" class="keyword" value="keyword" onFocus="HideFormGuide(this);" onBlur="ShowFormGuide(this);" />
                <input type="submit" value="Go" class="searchBtn" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
	  
          

<a class="twitter-timeline" data-dnt="true" href="https://twitter.com/JubatusOfficial"  data-widget-id="258379257628196864">Tweets by @JubatusOfficial</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="frequently-asked-questions-faqs">
<h1>Frequently Asked Questions (FAQs)<a class="headerlink" href="#frequently-asked-questions-faqs" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Failed in <tt class="docutils literal"><span class="pre">./waf</span> <span class="pre">configre</span></tt> with the following error.</li>
</ul>
<blockquote>
<div>This error occurs when old python. Use python 2.6 or later.</div></blockquote>
<div class="highlight-python"><pre>...
line 298, in load_tool
     __import__(d)
   File "/Users/oliner/tmp/jubatus/unittest_gtest.py", line 8
     C1 = b'#XXX'
              ^
SyntaxError: invalid syntax</pre>
</div>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">mecab_splitter.trivial</span></tt> and <tt class="docutils literal"><span class="pre">mecab_splitter_create.trivial</span></tt> does not pass the unittest?</li>
</ul>
<blockquote>
<div>Check your mecab dictionary and ensure that your mecab command accept UTF-8 charsets.</div></blockquote>
</div>
<div class="section" id="rpc-errors">
<h2>RPC Errors<a class="headerlink" href="#rpc-errors" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>When using python client, &#8220;got socket.error: [Errno 99] Cannot assign requested address&#8221; (or kind of <tt class="docutils literal"><span class="pre">EADDRINUSE</span></tt>)</li>
</ul>
<blockquote>
<div>Try this: <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">/sbin/sysctl</span> <span class="pre">-w</span> <span class="pre">net.ipv4.tcp_tw_recycle=1</span></tt></div></blockquote>
<ul class="simple">
<li>I&#8217;ve got an exception with message &#8220;1&#8221; from Jubatus client library, why?</li>
</ul>
<blockquote>
<div><p>The version of the client library you installed is not compatible with the version of the Jubatus server you are connecting to.
See the <a class="reference external" href="https://github.com/jubatus/jubatus/wiki/Client-Compatibility-and-Documentation">Jubatus Wiki: Client Compatibility and Documentation</a> for the compatibility information.</p>
<p>Technically, the error &#8220;1&#8221; means &#8220;no such method on RPC server&#8221;.</p>
</div></blockquote>
<ul class="simple">
<li>I&#8217;ve got an exception with message &#8220;2&#8221; from Jubatus client library, why?</li>
</ul>
<blockquote>
<div><p>This is a type mismatch error between clients and servers.</p>
<p>A common mistake is using integer instead of float in values of <tt class="docutils literal"><span class="pre">num_values</span></tt>.
Always cast values in <tt class="docutils literal"><span class="pre">num_values</span></tt> as float.
If you are using literals like <tt class="docutils literal"><span class="pre">10</span></tt>, replace it with <tt class="docutils literal"><span class="pre">10.0</span></tt> instead.
Another common mistake is assigning <tt class="docutils literal"><span class="pre">NULL</span></tt> for objects like vector.</p>
<p>This error may also occur if the version of the client library you installed is not compatible with the version of the Jubatus server you are connecting to.
Check out the <a class="reference external" href="https://github.com/jubatus/jubatus/wiki/Client-Compatibility-and-Documentation">Jubatus Wiki: Client Compatibility and Documentation</a> for the compatibility information.</p>
</div></blockquote>
<ul class="simple">
<li>Client library occasionally throws RPC timeout errors; it seems that servers automatically disconnect clients. Why?</li>
</ul>
<blockquote>
<div><p>Jubatus servers automatically close connections when the idle timeout (given by the command line parameter <a class="reference internal" href="commands.html#cmdoption-server-t"><em class="xref std std-option">server -t</em></a>) expires.
You need to retry the RPC call to re-establish the connection.</p>
<p>To disable this auto-disconnect feature, set <a class="reference internal" href="commands.html#cmdoption-server-t"><em class="xref std std-option">server -t</em></a> to 0, which means &#8220;no timeout&#8221;.
In this case, clients must explicitly close the TCP connection using <a class="reference internal" href="common_structs.html#get_client" title="get_client"><tt class="xref mpidl mpidl-meth docutils literal"><span class="pre">get_client()</span></tt></a>.</p>
</div></blockquote>
</div>
<div class="section" id="anomaly-detection">
<h2>Anomaly detection<a class="headerlink" href="#anomaly-detection" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>jubaanomaly only outputs 1.0 or infinity. Why?</li>
</ul>
<blockquote>
<div><p>It might relate to the scaling problem of the input data, in which nearest neighbor search cannot work properly.</p>
<p>jubaanomaly (as LOF algorithm) depends on euclid LSH which has many parameters related to the scale. If the scale is too large compared to the setting, LSH-based nearest neighbor fails and LOF model does not provide reasonable scores.</p>
<p>You may avoid such situation by using the following techniques.</p>
<ul class="simple">
<li>1: Normalize each feature value</li>
</ul>
<p>Nearest neighbor search is affected by the difference in scales of the features. It is better to normalize all of the feature values (limited from 0.0 to 1.0) or starndardize them (to have about 1.0 standard deviation).</p>
<ul class="simple">
<li>2: Change parameters for underlying euclid LSH</li>
</ul>
<p>Especially, we recommend you to change the most important parameter <tt class="docutils literal"><span class="pre">bin_width</span></tt> for some values.</p>
</div></blockquote>
<ul class="simple">
<li>Why jubaanomaly gets slow after adding many samples?</li>
</ul>
<blockquote>
<div>jubaanomaly (as LOF algorithm) depends on iterations of nearest neighbor search and its default configuration uses euclid LSH for speed-up. However, updating the internal state of the LOF model still takes quadratic time at worst with respect to the number of ever-added samples. For more details, please refer to the original paper <a class="reference internal" href="method.html#breunig2000">[Breunig2000]</a> .</div></blockquote>
<ul class="simple">
<li>How to avoid such speed down?</li>
</ul>
<blockquote>
<div><p>You can control the trade-off between speed and accuracy by using the following techniques.</p>
<ul class="simple">
<li>1: Modify baseline euclid LSH with lower accuracy and faster computation</li>
</ul>
<blockquote>
<div>By reducing the parameters values of (euclid) LSH such as <tt class="docutils literal"><span class="pre">lsh_num</span></tt>, <tt class="docutils literal"><span class="pre">table_num</span></tt>, <tt class="docutils literal"><span class="pre">probe_num</span></tt>, or <tt class="docutils literal"><span class="pre">bin_width</span></tt>, you can make neighbor nearest computation faster with lower accuracy, in which some more nearest samples might be ignored. This may affect the final anomaly score in comparison with the ground truth in which everything is computed in batch-processing manner.</div></blockquote>
<ul class="simple">
<li>2: Use <tt class="docutils literal"><span class="pre">calc_score</span></tt> for just obtaining anomaly score</li>
</ul>
<blockquote>
<div><tt class="docutils literal"><span class="pre">add</span></tt> function really appends the sample to the nearest neighbor storage, update the LOF model, and calculate its LOF value. On the other hand, <tt class="docutils literal"><span class="pre">calc_score</span></tt> function just computes an LOF value for the input sample based on the current LOF model, which works much faster. If you can assume that the data distribution is almost stable, we recommend you to use only <tt class="docutils literal"><span class="pre">add</span></tt> at the early stage to make a valid LOF model as early as possible, say, until 1000 samples are stored in the storage. Then you can swith two functions, with more freuquent <tt class="docutils literal"><span class="pre">calc_score</span></tt>. For example, it would work fine and much faster with the ratio <tt class="docutils literal"><span class="pre">add</span></tt> : <tt class="docutils literal"><span class="pre">calc_score</span></tt> = 1:100.</div></blockquote>
<ul class="simple">
<li>3: Decrease <tt class="docutils literal"><span class="pre">reverse_nearest_neighbor_num</span></tt></li>
</ul>
<blockquote>
<div>It also reduces the computation time for LOF. However, the number should not be smaller than <tt class="docutils literal"><span class="pre">nearest_neighbor_num</span></tt> .</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>How does &#8216;jubatus&#8217; read?</li>
</ul>
<blockquote>
<div>Please do not run &#8216;say&#8217; command in Mac OS.</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="references.html" title="References"
             >next</a> |</li>
        <li class="right" >
          <a href="idl_support.html" title="IDL Support Status (2013 Mar.)"
             >previous</a> |</li>
        <li><a href="index.html">Jubatus</a> &raquo;</li>
          <li><a href="documentation.html" >Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011,2013 PFI &amp; NTT.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>

    <!-- https://github.com/blog/273-github-ribbons -->
    <a href="http://github.com/jubatus/jubatus">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub" />
      </a>
  </body>
</html>