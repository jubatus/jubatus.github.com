

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Graph &mdash; Jubatus</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
    <link rel="top" title="Jubatus" href="../index.html"/>
        <link rel="up" title="Client API" href="index.html"/>
        <link rel="next" title="Bandit" href="api_bandit.html"/>
        <link rel="prev" title="Stat" href="api_stat.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Jubatus
          

          
            
            <img src="../_static/title.png" class="logo" />
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_distributed.html">Distributed Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fv_convert.html">Data Conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="../method.html">Algorithms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commands/index.html">Commands</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Client API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common_structs.html">Common Data Structures and Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_classifier.html">Classifier</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_regression.html">Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_recommender.html">Recommender</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_nearest_neighbor.html">Nearest Neighbor</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_anomaly.html">Anomaly</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_clustering.html">Clustering</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_burst.html">Burst</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_stat.html">Stat</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Graph</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#data-structures">Data Structures</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage-of-properties-and-queries">Usage of Properties and Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="#methods">Methods</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api_bandit.html">Bandit</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_weight.html">Weight</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_unlearner.html">Unlearner</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tips_faqs/index.html">Tips and FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developers/index.html">Developer&#8217;s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jubakit/index.html">Jubakit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../jubaql/index.html">JubaQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About This Project</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Jubatus</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Client API</a> &raquo;</li>
      
    <li>Graph</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="graph">
<h1>Graph<a class="headerlink" href="#graph" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>See <a class="reference external" href="https://github.com/jubatus/jubatus/blob/master/jubatus/server/server/graph.idl">IDL definition</a> for detailed specification.</li>
</ul>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>Configuration is given as a JSON file.
We show each field below:</p>
<dl class="describe">
<dt>
<code class="descname">method</code></dt>
<dd><p>Specify algorithm for graph analysis.
You can use these algorithms.</p>
<table border="1" class="docutils">
<colgroup>
<col width="36%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Value</th>
<th class="head">Method</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">&quot;graph_wo_index&quot;</span></code></td>
<td>Use graph without index.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="describe">
<dt>
<code class="descname">parameter</code></dt>
<dd><p>Specify parameters for the algorithm.
Its format differs for each <code class="docutils literal"><span class="pre">method</span></code>.</p>
<dl class="docutils">
<dt>graph_wo_index</dt>
<dd><table class="first last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">damping_factor:</th><td class="field-body"><p class="first">Damping factor for PageRank.
It adjusts scores for nodes with differenct degrees.
The bigger it is, the more sensitive to graph structure PageRank score is, but the larger biases it causes.
In the original paper, 0.85 is good.
(Float)</p>
<ul class="simple">
<li>Range: 0.0 &lt; <code class="docutils literal"><span class="pre">damping_factor</span></code> &lt; 1.0</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">landmark_num:</th><td class="field-body"><p class="first">The number of landmarks for shortest path calculation.
The bigger it is, more accurate value you can get, but the more memory is required.
(Integer)</p>
<ul class="last simple">
<li>Range: 0 &lt;= <code class="docutils literal"><span class="pre">landmark_num</span></code></li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd></dl>

<dl class="docutils">
<dt>Example:</dt>
<dd><div class="first last highlight-javascript"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;method&quot;</span> <span class="o">:</span> <span class="s2">&quot;graph_wo_index&quot;</span><span class="p">,</span>
  <span class="s2">&quot;parameter&quot;</span> <span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;damping_factor&quot;</span> <span class="o">:</span> <span class="mf">0.9</span><span class="p">,</span>
    <span class="s2">&quot;landmark_num&quot;</span> <span class="o">:</span> <span class="mi">5</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="data-structures">
<h2>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h2>
<dl class="message">
<dt id="node">
<em class="property">message </em><code class="descname">node</code><a class="headerlink" href="#node" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the node information.</p>
<dl class="member">
<dt id="node::property__m:s.s:">
0: map&lt;string, string&gt; <code class="descname">property</code><a class="headerlink" href="#node::property__m:s.s:" title="Permalink to this definition">¶</a></dt>
<dd><p>Property information for the node.</p>
</dd></dl>

<dl class="member">
<dt id="node::in_edges__l:L:">
1: list&lt;ulong&gt; <code class="descname">in_edges</code><a class="headerlink" href="#node::in_edges__l:L:" title="Permalink to this definition">¶</a></dt>
<dd><p>List of ID of incoming edges.</p>
</dd></dl>

<dl class="member">
<dt id="node::out_edges__l:L:">
2: list&lt;ulong&gt; <code class="descname">out_edges</code><a class="headerlink" href="#node::out_edges__l:L:" title="Permalink to this definition">¶</a></dt>
<dd><p>List of ID of outgoing edges.</p>
</dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">node</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span>  <span class="n">property</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">ulong</span><span class="o">&gt;</span>  <span class="n">in_edges</span>
  <span class="mi">2</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">ulong</span><span class="o">&gt;</span>  <span class="n">out_edges</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="query">
<em class="property">message </em><code class="descname">query</code><a class="headerlink" href="#query" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a query.</p>
<dl class="member">
<dt id="query::from_id__s">
0: string <code class="descname">from_id</code><a class="headerlink" href="#query::from_id__s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="query::to_id__s">
1: string <code class="descname">to_id</code><a class="headerlink" href="#query::to_id__s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">query</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">string</span> <span class="n">from_id</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">to_id</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="preset_query">
<em class="property">message </em><code class="descname">preset_query</code><a class="headerlink" href="#preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a preset query.
See the description below for details.</p>
<dl class="member">
<dt id="preset_query::edge_query__l:query:">
0: list&lt;<a class="reference internal" href="#query" title="query">query</a>&gt; <code class="descname">edge_query</code><a class="headerlink" href="#preset_query::edge_query__l:query:" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="preset_query::node_query__l:query:">
1: list&lt;<a class="reference internal" href="#query" title="query">query</a>&gt; <code class="descname">node_query</code><a class="headerlink" href="#preset_query::node_query__l:query:" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">preset_query</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">query</span><span class="o">&gt;</span> <span class="n">edge_query</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">list</span><span class="o">&lt;</span><span class="n">query</span><span class="o">&gt;</span> <span class="n">node_query</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="edge">
<em class="property">message </em><code class="descname">edge</code><a class="headerlink" href="#edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents the edge information.</p>
<dl class="member">
<dt id="edge::property__m:s.s:">
0: map&lt;string, string&gt; <code class="descname">property</code><a class="headerlink" href="#edge::property__m:s.s:" title="Permalink to this definition">¶</a></dt>
<dd><p>Property information for the edge.</p>
</dd></dl>

<dl class="member">
<dt id="edge::source__s">
1: string <code class="descname">source</code><a class="headerlink" href="#edge::source__s" title="Permalink to this definition">¶</a></dt>
<dd><p>ID of the source node that the edge connects.</p>
</dd></dl>

<dl class="member">
<dt id="edge::target__s">
2: string <code class="descname">target</code><a class="headerlink" href="#edge::target__s" title="Permalink to this definition">¶</a></dt>
<dd><p>ID of the target node that the edge connects.</p>
</dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">edge</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">map</span><span class="o">&lt;</span><span class="n">string</span><span class="p">,</span> <span class="n">string</span><span class="o">&gt;</span> <span class="n">property</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">source</span>
  <span class="mi">2</span><span class="o">:</span> <span class="n">string</span> <span class="n">target</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="message">
<dt id="shortest_path_query">
<em class="property">message </em><code class="descname">shortest_path_query</code><a class="headerlink" href="#shortest_path_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a shortest path query information.
See the description of <code class="docutils literal"><span class="pre">get_shortest_path</span></code> method for details.</p>
<dl class="member">
<dt id="shortest_path_query::source__s">
0: string <code class="descname">source</code><a class="headerlink" href="#shortest_path_query::source__s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="shortest_path_query::target__s">
1: string <code class="descname">target</code><a class="headerlink" href="#shortest_path_query::target__s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="shortest_path_query::max_hop__U">
2: uint <code class="descname">max_hop</code><a class="headerlink" href="#shortest_path_query::max_hop__U" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="member">
<dt id="shortest_path_query::query__preset_query">
3: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <code class="descname">query</code><a class="headerlink" href="#shortest_path_query::query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="highlight-c++"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="n">shortest_path_query</span> <span class="p">{</span>
  <span class="mi">0</span><span class="o">:</span> <span class="n">string</span> <span class="n">source</span>
  <span class="mi">1</span><span class="o">:</span> <span class="n">string</span> <span class="n">target</span>
  <span class="mi">2</span><span class="o">:</span> <span class="n">uint</span> <span class="n">max_hop</span>
  <span class="mi">3</span><span class="o">:</span> <span class="n">preset_query</span> <span class="n">query</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="usage-of-properties-and-queries">
<h2>Usage of Properties and Queries<a class="headerlink" href="#usage-of-properties-and-queries" title="Permalink to this headline">¶</a></h2>
<p>Properties and Queries are both represented as key-value pair like <code class="docutils literal"><span class="pre">{</span> <span class="pre">'key'</span> <span class="pre">:</span> <span class="pre">'value',</span> <span class="pre">'key2'</span> <span class="pre">:</span> <span class="pre">'value2',</span> <span class="pre">...</span> <span class="pre">}</span></code>.
The condition when a query matches to a property is: all keys in a query MUST exist in a property and the corresponding value which belongs to the query and the property MUST match exactly.
The ordering of each key-value in property/query does not matter.</p>
<p>For example, this case matches:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">query</span><span class="p">:</span>    <span class="p">{</span> <span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="s1">&#39;value&#39;</span> <span class="p">}</span>
<span class="nb">property</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span> <span class="p">:</span> <span class="s1">&#39;bar&#39;</span> <span class="p">}</span>
</pre></div>
</div>
<p>This case does not match &#8211; same <code class="docutils literal"><span class="pre">key</span></code> but different value:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">query</span><span class="p">:</span>    <span class="p">{</span> <span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="s1">&#39;wrong&#39;</span> <span class="p">}</span>
<span class="nb">property</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span> <span class="p">:</span> <span class="s1">&#39;bar&#39;</span> <span class="p">}</span>
</pre></div>
</div>
<p>This case does not match &#8211; key <code class="docutils literal"><span class="pre">spam</span></code> does not exist in <code class="docutils literal"><span class="pre">property</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">query</span><span class="p">:</span>    <span class="p">{</span> <span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;spam&#39;</span><span class="p">:</span> <span class="s1">&#39;ham&#39;</span> <span class="p">}</span>
<span class="nb">property</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;key&#39;</span> <span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span> <span class="p">:</span> <span class="s1">&#39;bar&#39;</span> <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="methods">
<h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="service">
<dt>
<em class="property">service </em><code class="descname">graph</code></dt>
<dd><dl class="method">
<dt id="graph::create_node">
string <code class="descname">create_node</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#graph::create_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a node on the graph.
Returns a node ID as string.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_node__s">
bool <code class="descname">remove_node</code><span class="sig-paren">(</span>0: string <em>node_id</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::remove_node__s" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a node <code class="docutils literal"><span class="pre">node_id</span></code> from the graph.</p>
</dd></dl>

<dl class="method">
<dt id="graph::update_node__s.m:s.s:">
bool <code class="descname">update_node</code><span class="sig-paren">(</span>0: string <em>node_id</em>, 1: map&lt;string, string&gt; <em>property</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::update_node__s.m:s.s:" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the property of the node <code class="docutils literal"><span class="pre">node_id</span></code> to <code class="docutils literal"><span class="pre">property</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::create_edge__s.edge">
ulong <code class="descname">create_edge</code><span class="sig-paren">(</span>0: string <em>node_id</em>, 1: <a class="reference internal" href="#edge" title="edge">edge</a> <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::create_edge__s.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a link from <code class="docutils literal"><span class="pre">e.source</span></code> to <code class="docutils literal"><span class="pre">e.target</span></code>.
Returns a edge ID as an unsigned long integer.</p>
<p>The link has a direction.
For any two nodes, multiple links with the same direction can be created.
In this case, property <code class="docutils literal"><span class="pre">e.property</span></code> can be associated to each link (see <code class="docutils literal"><span class="pre">edge</span></code>).</p>
<p><code class="docutils literal"><span class="pre">node_id</span></code> must be the same value as <code class="docutils literal"><span class="pre">e.source</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::update_edge__s.L.edge">
bool <code class="descname">update_edge</code><span class="sig-paren">(</span>0: string <em>node_id</em>, 1: ulong <em>edge_id</em>, 2: <a class="reference internal" href="#edge" title="edge">edge</a> <em>e</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::update_edge__s.L.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates an existing edge <code class="docutils literal"><span class="pre">edge_id</span></code> with information <code class="docutils literal"><span class="pre">e</span></code>.
Property will be replaced.</p>
<p><code class="docutils literal"><span class="pre">node_id</span></code> must be the same value as <code class="docutils literal"><span class="pre">e.source</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_edge__s.L">
bool <code class="descname">remove_edge</code><span class="sig-paren">(</span>0: string <em>node_id</em>, 1: ulong <em>edge_id</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::remove_edge__s.L" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes an edge <code class="docutils literal"><span class="pre">edge_id</span></code>.
<code class="docutils literal"><span class="pre">node_id</span></code> must be an ID for the source node of the edge <code class="docutils literal"><span class="pre">edge_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_centrality__s.i.preset_query">
double <code class="descname">get_centrality</code><span class="sig-paren">(</span>0: string <em>node_id</em>, 1: int <em>centrality_type</em>, 2: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::get_centrality__s.i.preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates (gets the computed value) the centrality over the edges that match the preset query <code class="docutils literal"><span class="pre">query</span></code>.
The query must be registered beforehand by using <code class="docutils literal"><span class="pre">add_centrality_query</span></code>.</p>
<p><code class="docutils literal"><span class="pre">centrality_type</span></code> is a type of centrality.
Currently, only <code class="docutils literal"><span class="pre">0</span></code> (PageRank centrality) can be specified.</p>
<p>Centrality is computed when mix runs, thus there may be a gap between the exact value of centrality and the computed value if there&#8217;re updates not mixed.
See also the description of <code class="docutils literal"><span class="pre">update_index</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::add_centrality_query__preset_query">
bool <code class="descname">add_centrality_query</code><span class="sig-paren">(</span>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::add_centrality_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a preset query <code class="docutils literal"><span class="pre">query</span></code> to the graph for centrality calculation.</p>
</dd></dl>

<dl class="method">
<dt id="graph::add_shortest_path_query__preset_query">
bool <code class="descname">add_shortest_path_query</code><span class="sig-paren">(</span>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::add_shortest_path_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a preset query <code class="docutils literal"><span class="pre">query</span></code> to the graph for shortest path calculation.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_centrality_query__preset_query">
bool <code class="descname">remove_centrality_query</code><span class="sig-paren">(</span>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::remove_centrality_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a preset query <code class="docutils literal"><span class="pre">query</span></code> from the graph.</p>
</dd></dl>

<dl class="method">
<dt id="graph::remove_shortest_path_query__preset_query">
bool <code class="descname">remove_shortest_path_query</code><span class="sig-paren">(</span>0: <a class="reference internal" href="#preset_query" title="preset_query">preset_query</a> <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::remove_shortest_path_query__preset_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a preset query <code class="docutils literal"><span class="pre">query</span></code> from the graph.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_shortest_path__shortest_path_query">
list&lt;string&gt; <code class="descname">get_shortest_path</code><span class="sig-paren">(</span>0: <a class="reference internal" href="#shortest_path_query" title="shortest_path_query">shortest_path_query</a> <em>query</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::get_shortest_path__shortest_path_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates (from the precomputed data) a shortest path from <code class="docutils literal"><span class="pre">query.source</span></code> to <code class="docutils literal"><span class="pre">query.target</span></code> that matches the preset query.
The query must be registered beforehand by using <code class="docutils literal"><span class="pre">add_shortest_path_query</span></code>.
Returns a list of node IDs that represents a path from <code class="docutils literal"><span class="pre">query.source</span></code> to <code class="docutils literal"><span class="pre">query.target</span></code>.</p>
<p>If the shortest path from <code class="docutils literal"><span class="pre">query.source</span></code> to <code class="docutils literal"><span class="pre">query.target</span></code> cannot be found within <code class="docutils literal"><span class="pre">query.max_hop</span></code> hops, the result will be truncated.</p>
<p>Path-index tree may have a gap between the exact path and the computed path when in a distributed setup.
See also the description of <code class="docutils literal"><span class="pre">update_index</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::update_index">
bool <code class="descname">update_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#graph::update_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs mix locally. <strong>Do not use in distributed mode</strong>.</p>
<p>Some functions like <code class="docutils literal"><span class="pre">get_centrality</span></code> and <code class="docutils literal"><span class="pre">get_shortest_path</span></code> uses an index that is updated in the mix operation.
In a standalone mode, mix is not automatically called thus users must call this API by themselves.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_node__s">
<a class="reference internal" href="#node" title="node">node</a> <code class="descname">get_node</code><span class="sig-paren">(</span>0: string <em>node_id</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::get_node__s" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the <code class="docutils literal"><span class="pre">node</span></code> for a node <code class="docutils literal"><span class="pre">node_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="graph::get_edge__s.L">
<a class="reference internal" href="#edge" title="edge">edge</a> <code class="descname">get_edge</code><span class="sig-paren">(</span>0: string <em>node_id</em>, 1: ulong <em>edge_id</em><span class="sig-paren">)</span><a class="headerlink" href="#graph::get_edge__s.L" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the <code class="docutils literal"><span class="pre">edge</span></code> of an edge <code class="docutils literal"><span class="pre">edge_id</span></code>.
<code class="docutils literal"><span class="pre">node_id</span></code> is an ID for the source node of the edge <code class="docutils literal"><span class="pre">edge_id</span></code>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api_bandit.html" class="btn btn-neutral float-right" title="Bandit" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="api_stat.html" class="btn btn-neutral" title="Stat" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2011-2017 PFN &amp; NTT.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>